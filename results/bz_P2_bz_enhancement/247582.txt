Review the fix for bug 247383 and implement a test case.

247383: [context] all java files get added to the context on rebuild
https://bugs.eclipse.org/bugs/show_bug.cgi?id=247383