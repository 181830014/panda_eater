Any SessionCustomizer you write cannot install a DatabasePlatform subclass (programmatically) that doesn't get subsequently nulled out by the EclipseLink core.