I am using Eclipselink build eclipselink-2.4.0.v20111118-r10419

The canonical metamodel generated for a structure mapping appears to be incorrect. See the example below, notice that the CollectionAttribute has the generic type of Collection instead of Bar.

@Entity
public class Foo {
	@Id
	private int id;
	
	@Structure
	private Collection<Bar> bars;
}

@Generated(value="EclipseLink-2.4.0.v20111118-rNA", date="2011-12-14T12:16:54")
@StaticMetamodel(Foo.class)
public class Foo_ { 

    public static volatile SingularAttribute<Foo, Integer> id;
    public static volatile CollectionAttribute<Foo, Collection> bars;
}