Build Identifier: 20100917-0705

As first mentioned here:

http://www.eclipse.org/forums/index.php?t=msg&goto=645551&S=529dad6b5f902676ce27656e1175fcdb

I have two entities and an embeddable; one entity is the key of a Map in the other entity, while the embeddable is the value in the Map.  When persisting entities, they're inserted in the incorrect order during transaction commit.

Reproducible: Always

Steps to Reproduce:
1. Unpack the attached sample project and cd into the "elbugs" directory.
2. Create a lib/ directory to hold dependant libraries (not included @7.5MB)
3. Copy eclipselink.jar (2.1.2), hsqldb.jar (2.0.0) and jpa2.jar into the lib/ directory
4. Compile the files: $ javac -cp lib/eclipselink.jar:lib/jpa2.jar src/snv/*.java
5. Run RunTest: $ java -cp lib/eclipselink.jar:lib/jpa2.jar:lib/hsqldb.jar:src "snv.RunTest"