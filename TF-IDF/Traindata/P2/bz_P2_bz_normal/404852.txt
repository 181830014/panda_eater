Created attachment 229302 [details]
stack trace with and without JDBC batch

With batch update enabled in persistence.xml (<property name="eclipselink.jdbc.batch-writing" value="jdbc"/> )
I don't see the query getting printed as part of exception, we are depending on that to troubleshoot issues in production. I see the problem is in ParameterizedSQLBatchWritingMechanism class, which is clearing the (parameters and databaseCall) instance variables and DatabaseAccessor.executeJDK12BatchStatement is not passing the dbCall parameter when creating DatabaseException object. I have attached the complete stack trace.

WTRN0074E: Exception caught from before_completion synchronization operation: Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.BatchUpdateException: ORA-12899: value too large for column "ODS"."Customer"."Type" (actual: 4, maximum: 2)

Error Code: 12899
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)
	at 

================================================================================
By disabling the batch update, i see the query and parameters are getting printed as part of exception

WTRN0074E: Exception caught from before_completion synchronization operation: Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: ORA-12899: value too large for column "ODS"."Customer"."Type" (actual: 4, maximum: 2)

Error Code: 12899
Call: INSERT INTO Customer(LST_UPD_TMS, RT_LN_CRG_AMT, RT_LN_CRG_WT_QTY, RT_QLF_SEQ_NBR, Customer_NBR, CTR_ID, Type) VALUES (?, ?, ?, ?, ?, ?, ?)
	bind => [2013-04-03 15:12:41.463, 15, 16, 1, 2, 192781, RMRR]
Query: InsertObjectQuery(Customer[192781,2,1,16,15])
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)