If you use the New File dialog to create an empty SMLIF, then the context menu to add existing files as instance/definition documents, the code behaves incorrectly.

First, adding a new file via the context menu only reads in the first line of the target file (first line of XML content, second physical line of file due to XML version directive).

Second, there is a prompting error.  The first add asks whether the new file is a definition or instance document.  If you select Instance, then the next add does not prompt (it assumes Definition).

Third, adding the Definition document (in my case it did guess correctly) causes the editor to correctly add the <smlif:definitions> stanza, but it places it AFTER <smlif:instances> instead of before so the SMLIF file it builds does not validate against the SMLIF schema.