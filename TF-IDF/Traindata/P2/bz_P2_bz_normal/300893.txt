This is first time we run JPA tests on GlassFish V3.0 GA, all tests of the whole test model passed on GlassFish V2.1 UR2.

For running the test model, we already copy sdoapi.jar to GLASSFISH_HOME/domains/domain1/lib, and the remained five tests of this test suite passed, only testSetup() failed with "java.lang.NoClassDefFoundError: oracle/spatial/geometry/JGeometry", that's strange. Becuase if I remove sdoapi.jar from GLASSFISH_HOME/domains/domain1/lib, then all tests failed with this NoClassDefFoundError. So this test failed while the rest five tests passed, that means the sdoapi.jar is under classpath at that time, it seems that the jar can't loaded only when running testSetup().

The suite is org.eclipse.persistence.testing.tests.jpa.structconverter.StructConverterTestSuite.