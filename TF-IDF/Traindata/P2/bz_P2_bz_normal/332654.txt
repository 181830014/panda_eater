Build Identifier: 20100218-1602 (Eclipselink 2.1.1)

I've got exactly the same problem as described in http://www.eclipse.org/forums/index.php?t=tree&th=124961&

Eclipselink should detect this special case and either not do a shallow commit or update the foreign key in a second query as it would do for other circular references.

Reproducible: Always

Steps to Reproduce:
See the newsgroup post http://www.eclipse.org/forums/index.php?t=tree&th=124961&