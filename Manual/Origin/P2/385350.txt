Hello

I'm trying to use the TREAT JPQL feature in this query :

SELECT DISTINCT a FROM Shop s JOIN TREAT(shop.products AS Book) b JOIN b.author a WHERE s = :shop

The goal is to get all distinct book authors sold in a given shop. This query should return a List of "distinct" Author, but I get a List of Long with only IDs of books.

Is it a bug, or a known limitation of TREAT ?

Thanks.